databaseChangeLog:
  - changeSet:
      id: add-foreign-keys
      author: kvlad
      changes:
        - dropForeignKeyConstraint:
            baseTableName: user_role
            constraintName: fk_user_role_user_id
        - addForeignKeyConstraint:
            baseTableName: user_role
            baseColumnNames: user_id
            constraintName: fk_user_role_user_id
            referencedTableName: users
            referencedColumnNames: id
        - dropForeignKeyConstraint:
            baseTableName: user_role
            constraintName: fk_user_role_role_id
        - addForeignKeyConstraint:
            baseTableName: user_role
            baseColumnNames: role_id
            constraintName: fk_user_role_role_id
            referencedTableName: roles
            referencedColumnNames: id
        - dropForeignKeyConstraint:
            baseTableName: book_category
            constraintName: fk_book_category_book_id
        - addForeignKeyConstraint:
            baseTableName: book_category
            baseColumnNames: book_id
            constraintName: fk_book_category_book_id
            referencedTableName: books
            referencedColumnNames: id
        - dropForeignKeyConstraint:
            baseTableName: book_category
            constraintName: fk_book_category_category_id
        - addForeignKeyConstraint:
            baseTableName: book_category
            baseColumnNames: category_id
            constraintName: fk_book_category_category_id
            referencedTableName: categories
            referencedColumnNames: id
        - dropForeignKeyConstraint:
            baseTableName: shopping_carts
            constraintName: fk_shopping_carts_user_id
        - addForeignKeyConstraint:
            baseTableName: shopping_carts
            baseColumnNames: user_id
            constraintName: fk_shopping_carts_user_id
            referencedTableName: users
            referencedColumnNames: id
        - dropForeignKeyConstraint:
            baseTableName: cart_item
            constraintName: fk_cart_item_shopping_cart_id
        - addForeignKeyConstraint:
            baseTableName: cart_item
            baseColumnNames: shopping_cart_id
            constraintName: fk_cart_item_shopping_cart_id
            referencedTableName: shopping_carts
            referencedColumnNames: user_id
        - dropForeignKeyConstraint:
            baseTableName: cart_item
            constraintName: fk_cart_item_book_id
        - addForeignKeyConstraint:
            baseTableName: cart_item
            baseColumnNames: book_id
            constraintName: fk_cart_item_book_id
            referencedTableName: books
            referencedColumnNames: id
        - addForeignKeyConstraint:
            baseTableName: orders
            baseColumnNames: user_id
            constraintName: fk_orders_user_id
            referencedTableName: users
            referencedColumnNames: id
        - addForeignKeyConstraint:
            baseTableName: order_items
            baseColumnNames: book_id
            constraintName: fk_order_items_book_id
            referencedTableName: books
            referencedColumnNames: id
        - addForeignKeyConstraint:
            baseTableName: order_items
            baseColumnNames: order_id
            constraintName: fk_order_items_order_id
            referencedTableName: orders
            referencedColumnNames: id